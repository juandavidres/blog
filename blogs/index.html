<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Planeta de Blogs — Habilidades Express / Ágora</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Maven+Pro:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />

<link href="./styles.css" rel="stylesheet" />
</head>
<body>
  <div class="wrap" role="application" aria-label="Planeta de Blogs">
    <header>
      <div class="logo" aria-hidden="true">
        <div class="mark">ÁG</div>
        <div class="brand">
          <h1>Ágora — Planeta</h1>
          <p>Agregador de posts · Habilidades Express</p>
        </div>
      </div>

      <div class="tools" role="region" aria-label="Herramientas">
        <div class="search" aria-hidden="false">
          <span class="material-symbols-rounded" aria-hidden="true">search</span>
          <input id="searchInput" placeholder="Buscar por título, autor o etiqueta..." aria-label="Buscar posts">
        </div>
        
        <button class="btn-primary add-feed" id="openAddFeed">
          <span>+</span> Añadir feed
        </button>

        <div id="authContainer" class="auth-widget">
          </div>
      </div>
    </header>

    <main>
      <section class="feeds" aria-label="Lista de publicaciones">
        <div class="controls" id="tagsArea" aria-hidden="false"></div>
        <div class="post-grid" id="postsGrid" aria-live="polite"></div>
      </section>

      <aside aria-label="Sidebar">
        <div class="side-section">
          <h3>Fuentes</h3>
          <div class="feed-list" id="feedList"></div>
        </div>
        <div class="side-section">
          <h3>Estadísticas</h3>
          <p class="small" id="statCount">0 publicaciones · 0 fuentes</p>
        </div>
        <div class="side-section">
          <h3>Acerca</h3>
          <p class="small">Interfaz creada con la paleta y tipografías del sistema de identidad. Incluye sistema de usuarios simulado.</p>
        </div>
      </aside>
    </main>
  </div>

  <template id="modalTpl">
    <div class="modal-backdrop" role="dialog" aria-modal="true">
      <div class="modal">
        <header style="display:flex;justify-content:space-between;margin-bottom:16px;">
          <div>
            <h2 id="modalTitle" style="margin:0;font-family:'Maven Pro'"></h2>
            <p id="modalMeta" class="small" style="margin:4px 0 0 0"></p>
          </div>
          <button class="close-btn" id="modalClose" style="border:0;background:transparent;cursor:pointer;font-size:1.2rem">✕</button>
        </header>
        <article id="modalContent" style="line-height:1.6"></article>
      </div>
    </div>
  </template>

  <div id="addFeedPrompt" style="display:none;position:fixed;right:20px;bottom:20px;background:var(--blanco);padding:18px;border-radius:12px;box-shadow:var(--card-shadow);z-index:40;min-width:320px;">
    <form id="feedForm">
      <label style="display:block;font-weight:700;margin-bottom:6px;font-family:'Maven Pro'">Añadir nueva fuente</label>
      <input name="title" placeholder="Nombre del blog" required style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--gris-50);margin-bottom:8px">
      <input name="url" placeholder="URL (ej: https://blog.com/feed)" style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--gris-50);margin-bottom:12px">
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button type="button" id="cancelAdd" style="background:transparent;border:0;color:var(--gris-80);cursor:pointer;font-weight:600">Cancelar</button>
        <button type="submit" style="background:var(--verde);border:0;color:white;padding:8px 16px;border-radius:8px;cursor:pointer;font-weight:600">Agregar</button>
      </div>
    </form>
  </div>

  <script type="module" src="./modules/main.js"></script>
</body>
</html>