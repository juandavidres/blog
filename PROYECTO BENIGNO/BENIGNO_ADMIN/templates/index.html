<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin BENIGNO</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">

</head>
<body>
  <h1>Panel de Administración - BENIGNO</h1>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Fecha</th>
        <th>Nombre</th>
        <th>Correo</th>
        <th>Teléfono</th>
        <th>Dirección</th>
        <th>Productos</th>
        <th>Total</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for pedido in pedidos %}
      <tr>
        <td>{{ pedido.id }}</td>
        <td>{{ pedido.fecha_creacion }}</td>
        <td>{{ pedido.nombre }}</td>
        <td>{{ pedido.correo }}</td>
        <td>{{ pedido.telefono }}</td>
        <td>{{ pedido.direccion }}</td>
        <td>
          <ul>
            {% for prod in pedido.productos %}
            <li>{{ prod.nombre }} - {{ prod.precio }}</li>
            {% endfor %}
          </ul>
        </td>
        <td>{{ pedido.total }}</td>
        <td class="estado">{{ pedido.estado }}</td>
        <td>
          <select class="cambiar-estado" data-id="{{ pedido.id }}">
            <option value="Pendiente" {% if pedido.estado == 'Pendiente' %}selected{% endif %}>Pendiente</option>
            <option value="En Proceso" {% if pedido.estado == 'En Proceso' %}selected{% endif %}>En Proceso</option>
            <option value="Entregado" {% if pedido.estado == 'Entregado' %}selected{% endif %}>Entregado</option>
          </select>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>
